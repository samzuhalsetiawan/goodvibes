{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://src/./index.ts","webpack://src/./my_module/Helper.ts"],"sourcesContent":["import Helper from \"./my_module/Helper\";\nimport IsearchUser from \"./my_module/IsearchUser\";\n\nconst BASE_URL = \"https://goodvibes-pendikom.000webhostapp.com\"\n// const BASE_URL = \"http://localhost/goodvibes\"\n\nconst buttonSwitchTheme = document.querySelector(\".button-switch-theme\") as HTMLButtonElement;\nconst buttonUploadPostImage = document.querySelector(\".input-file > input\") as HTMLInputElement;\nconst inputSearch = document.querySelector(\".search-bar > input\") as HTMLInputElement;\nconst searchResultContainer = document.querySelector(\".search-result-container\") as HTMLDivElement\nconst postsContainer = document.querySelector(\".posts-container\") as HTMLDivElement\nconst buttonChoosePP = document.querySelector(\".pilih-profile-picture\") as HTMLInputElement\n\nconst helper = new Helper()\n\nswitchThemeTo(helper.getCookie(\"theme\"))\n\nfunction switchThemeTo(theme: string | null) {\n    switch (theme) {\n        case \"light\":\n            document.documentElement.style.setProperty(\"--main-background-color\", \"var(--main-background-color-light)\");\n            document.documentElement.style.setProperty(\"--main-neumorph-shadow-color1\", \"var(--box-shadow1-neumorph-light)\");\n            document.documentElement.style.setProperty(\"--main-neumorph-shadow-color2\", \"var(--box-shadow2-neumorph-light)\");\n            document.documentElement.style.setProperty(\"--main-text-color\", \"var(--light-theme-text-color)\");\n            helper.setCookie(\"theme\", \"light\", 1);\n            break;\n\n        case \"dark\":\n        default:\n            document.documentElement.style.setProperty(\"--main-background-color\", \"var(--main-background-color-dark)\");\n            document.documentElement.style.setProperty(\"--main-neumorph-shadow-color1\", \"var(--box-shadow1-neumorph-dark)\");\n            document.documentElement.style.setProperty(\"--main-neumorph-shadow-color2\", \"var(--box-shadow2-neumorph-dark)\");\n            document.documentElement.style.setProperty(\"--main-text-color\", \"var(--dark-theme-text-color)\");\n            helper.setCookie(\"theme\", \"dark\", 1);\n            break;\n    }\n}\n\nfunction switchTheme() {\n    if (helper.getCookie(\"theme\") == \"dark\") {\n        switchThemeTo(\"light\")\n    } else {\n        switchThemeTo(\"dark\")\n    }\n}\n\n\nfunction showImageWantToUpload() {\n    const imageFile = buttonUploadPostImage.files?.item(0)\n    if (imageFile) {\n        const fileReader = new FileReader()\n        fileReader.onload = () => {\n            const contentContainer = document.querySelector(\".buat-post-container .content-container\") as HTMLDivElement\n            if (contentContainer.firstElementChild?.classList.contains(\"post-picture\")) {\n                const imgElement = contentContainer.firstElementChild as HTMLImageElement\n                imgElement.src = (fileReader.result as string)\n            } else {\n                const imgElement = document.createElement(\"img\");\n                imgElement.alt = \"upload-image\"\n                imgElement.classList.add(\"post-picture\")\n                imgElement.src = (fileReader.result as string)\n                contentContainer.insertBefore(imgElement, contentContainer.firstChild)\n            }\n        }\n        fileReader.readAsDataURL(imageFile)\n    }\n}\n\nfunction createSearchUserCard(profilePicture: string, username: string, uid: string) {\n    const img = document.createElement(\"img\")\n    img.src = `${BASE_URL}/img/${profilePicture}`\n    img.alt = \"Profile Picture\"\n\n    const name = document.createElement(\"input\")\n    name.type = \"text\"\n    name.value = `@${username}`\n    name.disabled = true\n\n    const hiddenUid = document.createElement(\"input\")\n    hiddenUid.type = \"hidden\"\n    hiddenUid.value = uid\n\n    const card = document.createElement(\"button\")\n    card.classList.add(\"search-result-card\")\n\n    card.onclick = () => window.location.href = `${BASE_URL}/pages/account/${uid}`\n\n    card.appendChild(img)\n    card.appendChild(name)\n    card.appendChild(hiddenUid)\n\n    return card\n}\n\nasync function doAjaxSearchingUser() {\n    const username = inputSearch.value;\n    const uid = inputSearch.dataset.uid as string;\n\n    if (username == \"\" && username.length < 1) {\n        searchResultContainer.classList.add(\"hidden\")\n        postsContainer.classList.remove(\"hidden\")\n    } else {\n        searchResultContainer.classList.remove(\"hidden\")\n        postsContainer.classList.add(\"hidden\")\n    }\n\n    const response = await fetch(`${BASE_URL}/pages/searchUser`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ username })\n    });\n\n    if (response.ok) {\n        const data = await response.json() as IsearchUser\n        searchResultContainer.innerHTML = \"\"\n        data.users.forEach(user => {\n            if (user.uid != uid) {\n                searchResultContainer.appendChild(createSearchUserCard(user.profile_picture, user.username, user.uid))\n            }\n        });\n    } else {\n        console.error(\"Request Gagal\")\n    }\n}\n\nfunction previewProfilePicture() {\n    const img = document.querySelector(\".profile-picture\") as HTMLImageElement\n    const filelist = buttonChoosePP.files\n\n    const imageFile = filelist?.item(0)\n    if (imageFile) {\n        const fileReader = new FileReader()\n        fileReader.onload = () => {\n            img.src = (fileReader.result as string)\n        }\n        fileReader.readAsDataURL(imageFile)\n    }\n}\n\n\nbuttonSwitchTheme ? (buttonSwitchTheme.onclick = switchTheme) : '';\n\nbuttonUploadPostImage ? (buttonUploadPostImage.onchange = showImageWantToUpload) : '';\n\ninputSearch ? (inputSearch.onkeyup = doAjaxSearchingUser) : '';\n\nbuttonChoosePP ? (buttonChoosePP.onchange = previewProfilePicture) : '';","export default class Helper {\n    public setCookie(name: string, value: string, days: number) {\n        var expires = \"\";\n        if (days) {\n            var date = new Date();\n            date.setTime(date.getTime() + (days*24*60*60*1000));\n            expires = \"; expires=\" + date.toUTCString();\n        }\n        document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\";\n    }\n    public getCookie(name: string) {\n        var nameEQ = name + \"=\";\n        var ca = document.cookie.split(';');\n        for(var i=0;i < ca.length;i++) {\n            var c = ca[i];\n            while (c.charAt(0)==' ') c = c.substring(1,c.length);\n            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n        }\n        return null;\n    }\n    public eraseCookie(name: string) {   \n        document.cookie = name +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n    }\n}"],"names":["BASE_URL","buttonSwitchTheme","document","querySelector","buttonUploadPostImage","inputSearch","searchResultContainer","postsContainer","buttonChoosePP","helper","setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","cookie","getCookie","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","eraseCookie","switchThemeTo","theme","documentElement","style","setProperty","onclick","onchange","imageFile","files","item","fileReader","FileReader","onload","contentContainer","firstElementChild","classList","contains","src","result","imgElement","createElement","alt","add","insertBefore","firstChild","readAsDataURL","onkeyup","username","uid","dataset","remove","response","fetch","method","headers","body","JSON","stringify","ok","data","json","innerHTML","users","forEach","user","appendChild","profilePicture","img","type","disabled","hiddenUid","card","window","location","href","createSearchUserCard","profile_picture","console","error","filelist"],"sourceRoot":""}